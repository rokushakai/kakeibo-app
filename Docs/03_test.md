# 家計簿アプリ テスト計画書

## 1. テストの目的
本アプリケーションが、`01_requirements.md`に記載された全ての機能要件を正しく満たしていることを確認する。

## 2. テスト項目

| ID | テスト項目 | テスト手順 | 期待される結果 |
| :--- | :--- | :--- | :--- |
| T-01 | 支出の新規登録（通常） | 1. トップページで日付、金額、品物を入力。<br>2. 「勘定科目」を選択し、「登録」を押す。 | 登録した支出が履歴一覧に表示される。DBの`sub_category`は空欄(NULL)。 |
| T-02 | 支出の新規登録（事業主費）| 1. トップページで日付、金額、品物を入力。<br>2. 「事業主費」プルダウンから項目を選択。<br>3. 「登録」を押す。 | 「勘定科目」が自動的に「事業主費」になる。登録した支出が履歴一覧に表示され、「事業主費(内訳)」列に選択した項目が表示される。 |
| T-03 | 日付の記憶（スティッキー）機能 | 1. '2025-08-01'で支出を登録する。<br>2. ページがリロードされた後、日付プルダウンを確認する。 | 年・月・日のプルダウンが'2025年','8月','1日'に設定されたままである。 |
| T-04 | 表示の並び替え | 1. トップページで「古い順に並び替え」リンクをクリックする。 | 支出一覧が日付の昇順で表示され、リンクのテキストが「新しい順に並び替え」に変わる。 |
| T-05 | 複合検索 | 1. 検索ページで期間を指定し、勘定科目と事業主費の内訳を複数チェックして検索。 | 指定した全ての条件に合致する支出のみが表示される。 |
| T-06 | CSVエクスポート | 1. 検索ページで何らかの検索を実行する。<br>2. 「CSVエクスポート」ボタンを押す。 | 検索結果と同じ内容のCSVファイルがダウンロードされる。ファイルには「事業主費(内訳)」列も含まれる。 |
| T-07 | 必須項目未入力 | 1. 登録フォームで「金額」を空にして登録ボタンを押す。 | HTMLのバリデーション機能により、入力を促すメッセージが表示され、データは登録されない。 |